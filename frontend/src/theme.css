/* --- Базовые сбросы и исправления мобильных артефактов --- */
* {
  /* Убираем то самое синее выделение (Tap Highlight) */
  -webkit-tap-highlight-color: transparent;
  
  /* Убираем стандартный контур фокуса, так как мы сами управляем состояниями */
  outline: none;
  
  /* Делаем бокс-модель предсказуемой */
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  /* Запрещаем выделение текста по всему приложению (кроме полей ввода) */
  user-select: none;
  -webkit-user-select: none;
  /* Улучшаем плавность скролла на iOS */
  -webkit-overflow-scrolling: touch;
}

input {
  /* Разрешаем выделение текста в инпутах, чтобы можно было редактировать поиск */
  user-select: text;
  -webkit-user-select: text;
}

/* --- Переменные темы --- */
:root {
  --brand-pink: #ff6b81;
  --bg-color: #ffffff;
  --bg-surface: #f4f4f4; 
  --text-color: #1a1a1a;

  --accent-color: var(--brand-pink);
  --text-primary: var(--text-color);
  --text-secondary: #717171;
  --overlay-bg: rgba(255, 255, 255, 0.95);

  --player-mask: linear-gradient(to bottom, transparent, black 15%, black 85%, transparent);
  --bg-brightness: 1.0; 
  --lyric-shadow: rgba(0, 0, 0, 0.08);
  --progress-bg: rgba(0, 0, 0, 0.08);

  --bg-blur-opacity: 0; 
  --bg-overlay-color: rgba(255, 255, 255, 0.8);
}

[data-theme='dark'] {
  --bg-color: #121212;
  --bg-surface: #1c1c1e;
  --text-color: #f9fafb;
  
  --accent-color: #ff8798; 
  --text-primary: var(--text-color);
  --text-secondary: #a1a1a1;
  --overlay-bg: rgba(18, 18, 18, 0.98);

  --bg-brightness: 0.35; 
  --lyric-shadow: rgba(255, 255, 255, 0.3);
  --progress-bg: rgba(255, 255, 255, 0.1);

  --bg-blur-opacity: 0.7;
  --bg-overlay-color: rgba(18, 18, 18, 0.6);
}

/* --- Интерактивные элементы (Эффект нажатия) --- */

/* Эффект для списка треков */
.track-item {
  transition: background-color 0.2s ease, transform 0.1s ease;
  cursor: pointer;
}

.track-item:active {
  /* Вместо синего выделения — легкое затемнение и уменьшение */
  background-color: var(--bg-surface);
  transform: scale(0.98);
}

/* Эффект для кнопок управления */
button:active {
  opacity: 0.7;
  transform: scale(0.95);
}
audio::-webkit-media-controls-enclosure,
audio::-webkit-media-controls-panel,
audio::-webkit-media-controls {
    display: none !important;
    -webkit-appearance: none;
}